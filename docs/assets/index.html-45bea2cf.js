import{_ as p,a as o,b as c}from"./MSFluentWindow-d48f08f0.js";import{_ as i,r as l,o as u,c as d,b as n,d as s,a as t,e}from"./app-cad4e71c.js";const k={},r={id:"fluentwindow",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#fluentwindow","aria-hidden":"true"},"#",-1),m={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/window/fluent_window/index.html#",target:"_blank",rel:"noopener noreferrer"},b=e('<p><img src="'+o+`" alt="FluentWindow"></p><p><code>FluentWindow</code> 对侧边导航栏和层叠组件进行了封装，使用这个类可以十分方便地创建多界面窗口。</p><h3 id="添加子界面" tabindex="-1"><a class="header-anchor" href="#添加子界面" aria-hidden="true">#</a> 添加子界面</h3><p>只需调用 <code>addSubInterface()</code> 方法就能完成子界面的添加：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">addSubInterface</span><span class="token punctuation">(</span>
    self<span class="token punctuation">,</span>
    interface<span class="token punctuation">:</span> QWidget<span class="token punctuation">,</span>
    icon<span class="token punctuation">:</span> FluentIconBase <span class="token operator">|</span> QIcon <span class="token operator">|</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    position<span class="token operator">=</span>NavigationItemPosition<span class="token punctuation">.</span>TOP<span class="token punctuation">,</span>
    parent<span class="token punctuation">:</span> QWidget <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> NavigationTreeWidget
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>各个参数解释如下：</p><ul><li><code>interface</code>: 需要添加的子界面</li><li><code>icon</code>：侧边栏菜单项图标</li><li><code>text</code>：侧边栏菜单项文本</li><li><code>position</code>：侧边栏菜单项的位置</li><li><code>parent</code>：侧边栏父菜单项对应的子界面</li></ul>`,7),f=n("div",{class:"custom-container warning"},[n("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[n("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"9"}),n("path",{d:"M12 8v4"}),n("path",{d:"M12 16h.01"})])]),n("p",{class:"custom-container-title"},"警告"),n("p",null,[s("调用 "),n("code",null,"addSubInterface()"),s(" 之前必须给子界面设置全局唯一的对象名作为路由键，否则后退功能会出问题，同时侧边栏看不到子界面对应的菜单项。 如果你在界面的左上角看到奇怪的东西，说明忘了调用 "),n("code",null,"addSubInterface()"),s(" 添加某个子界面")])],-1),g={href:"https://www.bilibili.com/video/BV1Uu411j7AV",target:"_blank",rel:"noopener noreferrer"},w=e(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> NavigationItemPosition<span class="token punctuation">,</span> FluentWindow<span class="token punctuation">,</span> SubtitleLabel<span class="token punctuation">,</span> setFont
<span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> FluentIcon <span class="token keyword">as</span> FIF


<span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">(</span>QFrame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token operator">=</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label <span class="token operator">=</span> SubtitleLabel<span class="token punctuation">(</span>text<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hBoxLayout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        setFont<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hBoxLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>

        <span class="token comment"># 必须给子界面设置全局唯一的对象名</span>
        self<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span>text<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>FluentWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; 主界面 &quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建子界面，实际使用时将 Widget 换成自己的子界面</span>
        self<span class="token punctuation">.</span>homeInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Home Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>musicInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Music Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>videoInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Video Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>settingInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Setting Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>albumInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Album Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>albumInterface1 <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Album Interface 1&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>initNavigation<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initNavigation</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>homeInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>HOME<span class="token punctuation">,</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>musicInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>MUSIC<span class="token punctuation">,</span> <span class="token string">&#39;Music library&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>videoInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>VIDEO<span class="token punctuation">,</span> <span class="token string">&#39;Video library&#39;</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>albumInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>ALBUM<span class="token punctuation">,</span> <span class="token string">&#39;Albums&#39;</span><span class="token punctuation">,</span> NavigationItemPosition<span class="token punctuation">.</span>SCROLL<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>albumInterface1<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>ALBUM<span class="token punctuation">,</span> <span class="token string">&#39;Album 1&#39;</span><span class="token punctuation">,</span> parent<span class="token operator">=</span>self<span class="token punctuation">.</span>albumInterface<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>settingInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>SETTING<span class="token punctuation">,</span> <span class="token string">&#39;Settings&#39;</span><span class="token punctuation">,</span> NavigationItemPosition<span class="token punctuation">.</span>BOTTOM<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initWindow</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">&#39;:/qfluentwidgets/images/logo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">&#39;PyQt-Fluent-Widgets&#39;</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> Window<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="切换界面" tabindex="-1"><a class="header-anchor" href="#切换界面" aria-hidden="true">#</a> 切换界面</h3><p><code>FluentWindow</code> 提供了切换当前界面的方法，<code>interface</code> 为待切换的子界面：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">switchTo</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> interface<span class="token punctuation">:</span> QWidget<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>FluentWindow</code> 内部使用 <code>StackedWidget</code> 来存放子界面，切换当前界面时 <code>StackedWidget</code> 会发出 <code>currentChanged(index: int)</code> 信号：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>self<span class="token punctuation">.</span>stackedWidget<span class="token punctuation">.</span>currentChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stackedWidget<span class="token punctuation">.</span>currentWidget<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="定制化侧边栏" tabindex="-1"><a class="header-anchor" href="#定制化侧边栏" aria-hidden="true">#</a> 定制化侧边栏</h3><p>调整展开状态下侧边导航的宽度：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>setExpandWidth<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>默认情况下侧边导航为收缩状态，当窗口宽度超过阈值时才会展开，如果希望禁用收缩并一直保持展开状态：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 这行代码必须在 setExpandWidth() 后面调用</span>
self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>setCollapsible<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果不想禁用收缩，但是希望窗口创建之后侧边栏是展开的：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>

<span class="token comment"># 需要设置允许侧边导航展开的最小窗口宽度</span>
self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>setMinimumExpandWidth<span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">)</span>

<span class="token comment"># 展开导航栏</span>
self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>useAni<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="背景失效解决办法" tabindex="-1"><a class="header-anchor" href="#背景失效解决办法" aria-hidden="true">#</a> 背景失效解决办法</h3><p>在 Win11 系统下，<code>FluentWindow</code> 默认启用了云母特效，如果窗口中使用了 <code>QWebEngineView</code> 或者 <code>QOpenGLWidget</code>，会导致窗口背景特效失效，同时圆角和阴影也会消失。</p><p>下述例子演示了如何正确地在 <code>FluentWindow</code> 中使用 Web 引擎；</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> SplitFluentWindow<span class="token punctuation">,</span> FluentIcon
<span class="token keyword">from</span> qframelesswindow<span class="token punctuation">.</span>webengine <span class="token keyword">import</span> FramelessWebEngineView


<span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">(</span>QFrame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token operator">=</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">&quot;homeInterface&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># 1. 将 QWebEngineView 替换成 FramelessWebEngineView</span>
        self<span class="token punctuation">.</span>webView <span class="token operator">=</span> FramelessWebEngineView<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>webView<span class="token punctuation">.</span>load<span class="token punctuation">(</span>QUrl<span class="token punctuation">(</span><span class="token string">&quot;https://www.baidu.com/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>vBoxLayout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>vBoxLayout<span class="token punctuation">.</span>setContentsMargins<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>vBoxLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>webView<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>SplitFluentWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建并添加子界面</span>
        self<span class="token punctuation">.</span>homeInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>homeInterface<span class="token punctuation">,</span> FluentIcon<span class="token punctuation">.</span>HOME<span class="token punctuation">,</span> <span class="token string">&quot;Home&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># 初始化窗口</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">&#39;:/qfluentwidgets/images/logo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">&#39;PyQt-Fluent-Widgets&#39;</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> Window<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 2. 重新启用云母特效</span>
    w<span class="token punctuation">.</span>setMicaEffectEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于 <code>QOpenGLWidget</code>，需要在主界面的构造函数中强制调用 <code>FluentWindow.updateFrameless()</code> 并在显示主界面后重新启用云母特效。</p>`,18),h={id:"splitfluentwindow",tabindex:"-1"},_=n("a",{class:"header-anchor",href:"#splitfluentwindow","aria-hidden":"true"},"#",-1),I={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/window/fluent_window/index.html#",target:"_blank",rel:"noopener noreferrer"},y=n("p",null,[n("img",{src:p,alt:"SplitFluentWindow"})],-1),W=n("p",null,[n("code",null,"SplitFluentWindow"),s(" 使用方式和 "),n("a",{href:"#fluentwindow"},"FluentWindow"),s(" 完全相同。")],-1),F={id:"msfluentwindow",tabindex:"-1"},x=n("a",{class:"header-anchor",href:"#msfluentwindow","aria-hidden":"true"},"#",-1),S={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/window/fluent_window/index.html#",target:"_blank",rel:"noopener noreferrer"},Q=e('<p><img src="'+c+`" alt="MSFluentWindow"></p><p><code>MSFluentWindow</code> 对 <code>NavigationBar</code> 和层叠组件进行了封装，使用这个类可以十分方便地创建多界面窗口，使用方式和 <a href="#fluentwindow">FluentWindow</a> 相似。</p><p>只需调用 <code>addSubInterface()</code> 方法就能完成子界面的添加（必须先给子界面设置对象名才能调用此方法）：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">addSubInterface</span><span class="token punctuation">(</span>
    self<span class="token punctuation">,</span>
    interface<span class="token punctuation">:</span> QWidget<span class="token punctuation">,</span>
    icon<span class="token punctuation">:</span> FluentIconBase <span class="token operator">|</span> QIcon <span class="token operator">|</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
    selectedIcon<span class="token punctuation">:</span> FluentIconBase <span class="token operator">|</span> QIcon <span class="token operator">|</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
    position<span class="token operator">=</span>NavigationItemPosition<span class="token punctuation">.</span>TOP<span class="token punctuation">,</span>
    isTransparent<span class="token operator">=</span><span class="token boolean">False</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>各个参数解释如下：</p><ul><li><code>interface</code>: 需要添加的子界面</li><li><code>icon</code>：侧边栏菜单项图标</li><li><code>text</code>：侧边栏菜单项文本</li><li><code>selectedIcon</code>：侧边栏菜单项选中状态下的图标</li><li><code>position</code>：侧边栏菜单项的位置</li><li><code>isTransparent</code>：是否使用透明背景</li></ul>`,6),q={href:"https://github.com/zhiyiYo/PyQt-Fluent-Widgets/blob/master/examples/view/card_widget/demo.py",target:"_blank",rel:"noopener noreferrer"},B=e(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> <span class="token punctuation">(</span>NavigationItemPosition<span class="token punctuation">,</span> MessageBox<span class="token punctuation">,</span> setTheme<span class="token punctuation">,</span> Theme<span class="token punctuation">,</span> MSFluentWindow<span class="token punctuation">,</span>
                            NavigationAvatarWidget<span class="token punctuation">,</span> qrouter<span class="token punctuation">,</span> SubtitleLabel<span class="token punctuation">,</span> setFont<span class="token punctuation">)</span>
<span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> FluentIcon <span class="token keyword">as</span> FIF


<span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">(</span>QFrame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token operator">=</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label <span class="token operator">=</span> SubtitleLabel<span class="token punctuation">(</span>text<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hBoxLayout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        setFont<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hBoxLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span>text<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>



<span class="token keyword">class</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>MSFluentWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># create sub interface</span>
        self<span class="token punctuation">.</span>homeInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Home Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>appInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Application Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>videoInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;Video Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>libraryInterface <span class="token operator">=</span> Widget<span class="token punctuation">(</span><span class="token string">&#39;library Interface&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>initNavigation<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initNavigation</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>homeInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>HOME<span class="token punctuation">,</span> <span class="token string">&#39;主页&#39;</span><span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>HOME_FILL<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>appInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>APPLICATION<span class="token punctuation">,</span> <span class="token string">&#39;应用&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>videoInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>VIDEO<span class="token punctuation">,</span> <span class="token string">&#39;视频&#39;</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>addSubInterface<span class="token punctuation">(</span>self<span class="token punctuation">.</span>libraryInterface<span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>BOOK_SHELF<span class="token punctuation">,</span> <span class="token string">&#39;库&#39;</span><span class="token punctuation">,</span> FIF<span class="token punctuation">.</span>LIBRARY_FILL<span class="token punctuation">,</span> NavigationItemPosition<span class="token punctuation">.</span>BOTTOM<span class="token punctuation">)</span>

        <span class="token comment"># 添加自定义导航组件</span>
        self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>addItem<span class="token punctuation">(</span>
            routeKey<span class="token operator">=</span><span class="token string">&#39;Help&#39;</span><span class="token punctuation">,</span>
            icon<span class="token operator">=</span>FIF<span class="token punctuation">.</span>HELP<span class="token punctuation">,</span>
            text<span class="token operator">=</span><span class="token string">&#39;帮助&#39;</span><span class="token punctuation">,</span>
            onClick<span class="token operator">=</span>self<span class="token punctuation">.</span>showMessageBox<span class="token punctuation">,</span>
            selectable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
            position<span class="token operator">=</span>NavigationItemPosition<span class="token punctuation">.</span>BOTTOM<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>navigationInterface<span class="token punctuation">.</span>setCurrentItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>homeInterface<span class="token punctuation">.</span>objectName<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initWindow</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">&#39;:/qfluentwidgets/images/logo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">&#39;PyQt-Fluent-Widgets&#39;</span><span class="token punctuation">)</span>

        desktop <span class="token operator">=</span> QApplication<span class="token punctuation">.</span>desktop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        w<span class="token punctuation">,</span> h <span class="token operator">=</span> desktop<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> desktop<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>w<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> h<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">showMessageBox</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        w <span class="token operator">=</span> MessageBox<span class="token punctuation">(</span>
            <span class="token string">&#39;支持作者🥰&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;个人开发不易，如果这个项目帮助到了您，可以考虑请作者喝一瓶快乐水🥤。您的支持就是作者开发和维护项目的动力🚀&#39;</span><span class="token punctuation">,</span>
            self
        <span class="token punctuation">)</span>
        w<span class="token punctuation">.</span>yesButton<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">&#39;来啦老弟&#39;</span><span class="token punctuation">)</span>
        w<span class="token punctuation">.</span>cancelButton<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">&#39;下次一定&#39;</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> w<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            QDesktopServices<span class="token punctuation">.</span>openUrl<span class="token punctuation">(</span>QUrl<span class="token punctuation">(</span><span class="token string">&quot;https://qfluentwidgets.com/zh/price/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> Window<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function N(L,M){const a=l("ExternalLinkIcon");return u(),d("div",null,[n("h2",r,[v,s(),n("a",m,[s("FluentWindow"),t(a)])]),b,f,n("p",null,[s("下面是个简单的例子，更加复杂的多子界面示例见 "),n("a",g,[s("视频教程"),t(a)]),s("：")]),w,n("h2",h,[_,s(),n("a",I,[s("SplitFluentWindow"),t(a)])]),y,W,n("h2",F,[x,s(),n("a",S,[s("MSFluentWindow"),t(a)])]),Q,n("p",null,[s("下面是个简单的例子，更加复杂的示例见 "),n("a",q,[s("卡片例子"),t(a)]),s("：")]),B])}const O=i(k,[["render",N],["__file","index.html.vue"]]);export{O as default};
