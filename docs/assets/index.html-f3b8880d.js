import{_ as e,r as o,o as i,c,b as s,d as n,a as p,e as a}from"./app-9cc97c28.js";const l={},u=a('<h2 id="design-principles" tabindex="-1"><a class="header-anchor" href="#design-principles" aria-hidden="true">#</a> Design Principles</h2><p>The <code>ConfigItem</code> class represents a configuration item, and the configuration class <code>QConfig</code> is used for reading and writing the values of configuration items. When the value of a <code>ConfigItem</code> changes, a <code>valueChanged(value: object)</code> signal is sent, and the <code>QConfig</code> class will also automatically synchronize the configuration values to the json configuration file.</p><p>The configuration file may be tampered with by the user, leading to illegal values for configuration items. Therefore, QFluentWidgets uses the <code>ConfigValidator</code> class and its subclasses to validate and correct the values of configuration items.</p><p>Json files only support strings, boolean values, lists, and dictionaries. For enum classes or <code>QColor</code>, their values cannot be written directly into json files. To solve this problem, QFluentWidgets provides the <code>ConfigSerializer</code> class and its subclasses for serializing and deserializing configuration items. For example, the <code>ColorSerializer</code> can be used to serialize configuration items whose value type is <code>QColor</code>.</p>',4),r=s("code",null,"ConfigItem",-1),d={href:"https://pyqt-fluent-widgets.readthedocs.io/en/latest/autoapi/qfluentwidgets/common/config/index.html#qfluentwidgets.common.config.ConfigItem",target:"_blank",rel:"noopener noreferrer"},k=a(`<table><thead><tr><th>Property</th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td><code>group</code></td><td><code>str</code></td><td>The group to which the configuration item belongs</td></tr><tr><td><code>name</code></td><td><code>str</code></td><td>The name of the configuration item</td></tr><tr><td><code>default</code></td><td><code>Any</code></td><td>The default value of the configuration item</td></tr><tr><td><code>validator</code></td><td><code>ConfigValidator</code></td><td>The configuration validator</td></tr><tr><td><code>serializer</code></td><td><code>ConfigSerializer</code></td><td>The configuration serializer</td></tr><tr><td><code>restart</code></td><td><code>bool</code></td><td>Whether to restart the application after updating the configuration</td></tr></tbody></table><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>You can create and use a custom configuration class <code>MyConfig</code> by following these steps:</p><ol><li>Inherit from <code>QConfig</code></li><li>Add instances of <code>ConfigItem</code> to the class properties of <code>MyConfig</code></li><li>Create a globally unique <code>MyConfig</code> singleton instance <code>cfg</code></li><li>Call <code>qconfig.load(&quot;/path/to/config.json&quot;, cfg)</code> to load the configuration file</li><li>Use <code>cfg.get(cfg.xxx)</code> to read configuration values, <code>cfg.set(cfg.xxx, value)</code> to write configuration values</li></ol><p>Below is a simple example:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum

<span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">MvQuality</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; MV quality enumeration class &quot;&quot;&quot;</span>

    FULL_HD <span class="token operator">=</span> <span class="token string">&quot;Full HD&quot;</span>
    HD <span class="token operator">=</span> <span class="token string">&quot;HD&quot;</span>
    SD <span class="token operator">=</span> <span class="token string">&quot;SD&quot;</span>
    LD <span class="token operator">=</span> <span class="token string">&quot;LD&quot;</span>

    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>q<span class="token punctuation">.</span>value <span class="token keyword">for</span> q <span class="token keyword">in</span> MvQuality<span class="token punctuation">]</span>


<span class="token keyword">class</span> <span class="token class-name">MyConfig</span><span class="token punctuation">(</span>QConfig<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; Application&#39;s Config &quot;&quot;&quot;</span>

    <span class="token comment"># main window</span>
    enableAcrylic <span class="token operator">=</span> ConfigItem<span class="token punctuation">(</span><span class="token string">&quot;MainWindow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EnableAcrylic&quot;</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> BoolValidator<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    playBarColor <span class="token operator">=</span> ColorConfigItem<span class="token punctuation">(</span><span class="token string">&quot;MainWindow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PlayBarColor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#225C7F&quot;</span><span class="token punctuation">)</span>
    themeMode <span class="token operator">=</span> OptionsConfigItem<span class="token punctuation">(</span><span class="token string">&quot;MainWindow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ThemeMode&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Light&quot;</span><span class="token punctuation">,</span> OptionsValidator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Light&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Dark&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Auto&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> restart<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    recentPlaysNumber <span class="token operator">=</span> RangeConfigItem<span class="token punctuation">(</span><span class="token string">&quot;MainWindow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RecentPlayNumbers&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> RangeValidator<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># online</span>
    onlineMvQuality <span class="token operator">=</span> OptionsConfigItem<span class="token punctuation">(</span><span class="token string">&quot;Online&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MvQuality&quot;</span><span class="token punctuation">,</span> MvQuality<span class="token punctuation">.</span>FULL_HD<span class="token punctuation">,</span> OptionsValidator<span class="token punctuation">(</span>MvQuality<span class="token punctuation">)</span><span class="token punctuation">,</span> EnumSerializer<span class="token punctuation">(</span>MvQuality<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># Create a config instance and initialize it using the configuration file</span>
cfg <span class="token operator">=</span> MyConfig<span class="token punctuation">(</span><span class="token punctuation">)</span>
qconfig<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;config/config.json&#39;</span><span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function g(m,f){const t=o("ExternalLinkIcon");return i(),c("div",null,[u,s("p",null,[n("The properties of "),r,n(" are shown in the table below, and the constructors of each subclass can be found in the "),s("a",d,[n("API documentation"),p(t)]),n(":")]),k])}const h=e(l,[["render",g],["__file","index.html.vue"]]);export{h as default};
