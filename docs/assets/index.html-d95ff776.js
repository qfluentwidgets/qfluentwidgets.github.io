import{_ as p,a as o,b as i}from"./CustomMessageBox-2569f0ae.js";import{_ as c,r as l,o as u,c as d,b as n,d as s,a as t,e}from"./app-9cc97c28.js";const r={},k={id:"dialog",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#dialog","aria-hidden":"true"},"#",-1),m={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/dialog_box/dialog/index.html#qfluentwidgets.components.dialog_box.dialog.Dialog",target:"_blank",rel:"noopener noreferrer"},b=e('<p><img src="'+p+`" alt="Dialog"></p><p><code>Dialog</code> 是模态无边框对话框，用于用于消息提示、确认消息和提交内容。该对话框会中断用户操作，直到用户确认知晓后才可关闭。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>w <span class="token operator">=</span> Dialog<span class="token punctuation">(</span><span class="token string">&quot;标题&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;这是一条消息通知&quot;</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span>

<span class="token keyword">if</span> w<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;确认&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;取消&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改按钮文本：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>w<span class="token punctuation">.</span>yesButton<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">&quot;来啦老弟&quot;</span><span class="token punctuation">)</span>
w<span class="token punctuation">.</span>cancelButton<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">&quot;但是我拒绝&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>隐藏确定按钮：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>w<span class="token punctuation">.</span>yesButton<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>
w<span class="token punctuation">.</span>buttonLayout<span class="token punctuation">.</span>insertStretch<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>隐藏取消按钮：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>w<span class="token punctuation">.</span>cancelButton<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>
w<span class="token punctuation">.</span>buttonLayout<span class="token punctuation">.</span>insertStretch<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果同时使用 <code>Dialog</code> 和 <code>FluentWindow</code>，可能导致窗口无法拉伸，解决方案如下：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>app<span class="token punctuation">.</span>setAttribute<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>ApplicationAttribute<span class="token punctuation">.</span>AA_DontCreateNativeWidgetSiblings<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,11),g={id:"messagebox",tabindex:"-1"},h=n("a",{class:"header-anchor",href:"#messagebox","aria-hidden":"true"},"#",-1),_={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/dialog_box/dialog/index.html#qfluentwidgets.components.dialog_box.dialog.MessageBox",target:"_blank",rel:"noopener noreferrer"},f=e('<p><img src="'+o+`" alt="MessageBox"></p><p><code>MessageBox</code> 是模态遮罩对话框，使用方式和 <a href="#dialog">Dialog</a> 一样。</p><p>最好将对话框的父级设置为主窗口，这样遮罩的尺寸就能和主窗口保持一致。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>w <span class="token operator">=</span> MessageBox<span class="token punctuation">(</span><span class="token string">&quot;标题&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;这是一条消息通知&quot;</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span>

<span class="token keyword">if</span> w<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;确认&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;取消&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),w={id:"messageboxbase",tabindex:"-1"},x=n("a",{class:"header-anchor",href:"#messageboxbase","aria-hidden":"true"},"#",-1),y={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/dialog_box/message_box_base/index.html#qfluentwidgets.components.dialog_box.message_box_base.MessageBoxBase",target:"_blank",rel:"noopener noreferrer"},q=e(`<p>如果你想自定义对话框的内容，可继承 <code>MessageBoxBase</code> 并往 <code>viewLayout</code> 垂直布局中添加组件。下述代码创建了一个输入框对话框：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomMessageBox</span><span class="token punctuation">(</span>MessageBoxBase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; Custom message box &quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>titleLabel <span class="token operator">=</span> SubtitleLabel<span class="token punctuation">(</span><span class="token string">&#39;打开 URL&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>urlLineEdit <span class="token operator">=</span> LineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">&#39;输入文件、流或者播放列表的 URL&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>setClearButtonEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># 将组件添加到布局中</span>
        self<span class="token punctuation">.</span>viewLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>titleLabel<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>viewLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">)</span>

        <span class="token comment"># 设置对话框的最小宽度</span>
        self<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>setMinimumWidth<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">:</span>
    w <span class="token operator">=</span> CustomMessageBox<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    <span class="token keyword">if</span> w<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如下： <img src="`+i+`" alt="CustomMessageBox"></p><p>对话框提供了 <code>validate() -&gt; bool</code> 方法，通过重写此方法，可在用户点击确定按钮时验证表单数据，返回 True 代表表单数据正确，对话框会自动关闭。下面是一个示例：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomMessageBox</span><span class="token punctuation">(</span>MessageBoxBase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>titleLabel <span class="token operator">=</span> SubtitleLabel<span class="token punctuation">(</span><span class="token string">&#39;打开 URL&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>urlLineEdit <span class="token operator">=</span> LineEdit<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">&#39;输入文件、流或者播放列表的 URL&#39;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>setClearButtonEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>warningLabel <span class="token operator">=</span> CaptionLabel<span class="token punctuation">(</span><span class="token string">&quot;URL 不正确&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>warningLabel<span class="token punctuation">.</span>setTextColor<span class="token punctuation">(</span><span class="token string">&quot;#cf1010&quot;</span><span class="token punctuation">,</span> QColor<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># add widget to view layout</span>
        self<span class="token punctuation">.</span>viewLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>titleLabel<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>viewLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>viewLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>warningLabel<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>warningLabel<span class="token punctuation">.</span>hide<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>setMinimumWidth<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot; 重写验证表单数据的方法 &quot;&quot;&quot;</span>
        isValid <span class="token operator">=</span> QUrl<span class="token punctuation">(</span>self<span class="token punctuation">.</span>urlLineEdit<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isValid<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>warningLabel<span class="token punctuation">.</span>setHidden<span class="token punctuation">(</span>isValid<span class="token punctuation">)</span>
        <span class="token keyword">return</span> isValid

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function L(B,E){const a=l("ExternalLinkIcon");return u(),d("div",null,[n("h3",k,[v,s(),n("a",m,[s("Dialog"),t(a)])]),b,n("h3",g,[h,s(),n("a",_,[s("MessageBox"),t(a)])]),f,n("h3",w,[x,s(),n("a",y,[s("MessageBoxBase"),t(a)])]),q])}const T=c(r,[["render",L],["__file","index.html.vue"]]);export{T as default};
