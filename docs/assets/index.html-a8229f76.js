import{_ as n,a as s,b as a}from"./Edit_Light_Qss_Dialog-44576d9f.js";import{_ as e,o as t,c as o,e as p}from"./app-9cc97c28.js";const c={},i=p(`<h2 id="switching-themes" tabindex="-1"><a class="header-anchor" href="#switching-themes" aria-hidden="true">#</a> Switching Themes</h2><p><code>setTheme()</code> is used to switch the light/dark theme for all components of QFluentWidgets. This method accepts the following values:</p><ul><li><code>Theme.LIGHT</code>: Light theme</li><li><code>Theme.DARK</code>: Dark theme</li><li><code>Theme.AUTO</code>: Follow the system theme. If the system theme cannot be detected, the light theme will be used.</li></ul><p>When the theme changes, <code>qconfig</code> emits a <code>themeChanged</code> signal. QFluentWidgets provides the <code>toggleTheme()</code> function for quickly switching between light and dark themes.</p><h2 id="fluent-style-sheet" tabindex="-1"><a class="header-anchor" href="#fluent-style-sheet" aria-hidden="true">#</a> Fluent Style Sheet</h2><p>If you want the interface styles to switch automatically when the theme changes, you can inherit the <code>StyleSheetBase</code> class and override the <code>path()</code> method. The following code implements a <code>Window</code> class that can automatically switch the background color. Its QSS file paths are <code>qss/light/window.qss</code> and <code>qss/dark/window.qss</code>:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum
<span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> StyleSheetBase<span class="token punctuation">,</span> Theme<span class="token punctuation">,</span> isDarkTheme<span class="token punctuation">,</span> qconfig


<span class="token keyword">class</span> <span class="token class-name">StyleSheet</span><span class="token punctuation">(</span>StyleSheetBase<span class="token punctuation">,</span> Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; Stylesheet &quot;&quot;&quot;</span>

    WINDOW <span class="token operator">=</span> <span class="token string">&quot;window&quot;</span>

    <span class="token keyword">def</span> <span class="token function">path</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> theme<span class="token operator">=</span>Theme<span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span><span class="token punctuation">:</span>
        theme <span class="token operator">=</span> qconfig<span class="token punctuation">.</span>theme <span class="token keyword">if</span> theme <span class="token operator">==</span> Theme<span class="token punctuation">.</span>AUTO <span class="token keyword">else</span> theme
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;qss/</span><span class="token interpolation"><span class="token punctuation">{</span>theme<span class="token punctuation">.</span>value<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span><span class="token string">.qss&quot;</span></span>


<span class="token keyword">class</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token operator">=</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">&quot;Label&quot;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>

        <span class="token comment"># Apply stylesheet to window</span>
        StyleSheet<span class="token punctuation">.</span>WINDOW<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Stylesheet files:</p><ul><li><p>Light mode <code>qss/light/window.qss</code></p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">Window</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>249<span class="token punctuation">,</span> 249<span class="token punctuation">,</span> 249<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">Window&gt;QLabel</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> --ThemeColorPrimary<span class="token punctuation">;</span>   <span class="token comment">/* Use the theme color of qfluentwidgets */</span>
    <span class="token property">font</span><span class="token punctuation">:</span> 14px --FontFamilies<span class="token punctuation">;</span>    <span class="token comment">/* Use the font families of qfluentwidgets */</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Dark mode <code>qss/dark/window.qss</code></p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">Window</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>32<span class="token punctuation">,</span> 32<span class="token punctuation">,</span> 32<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">Window&gt;QLabel</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> --ThemeColorPrimary<span class="token punctuation">;</span>
    <span class="token property">font</span><span class="token punctuation">:</span> 14px --FontFamilies<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>The stylesheet supports the following color placeholders:</p><ul><li><code>--ThemeColorPrimary</code></li><li><code>--ThemeColorLight1</code></li><li><code>--ThemeColorLight2</code></li><li><code>--ThemeColorLight3</code></li><li><code>--ThemeColorDark1</code></li><li><code>--ThemeColorDark2</code></li><li><code>--ThemeColorDark3</code></li><li><code>--FontFamilies</code></li></ul><h3 id="follow-system-theme" tabindex="-1"><a class="header-anchor" href="#follow-system-theme" aria-hidden="true">#</a> Follow system theme</h3><p>qfluentwidgets provides a system theme listener thread called <code>SystemThemeListener</code>, which can be used to follow the system theme.</p><p>Here is a simple usage example:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> qfluentwidgets <span class="token keyword">import</span> FluentWindow<span class="token punctuation">,</span> SystemThemeListener<span class="token punctuation">,</span> isDarkTheme


<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>FluentWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Create theme listener</span>
        self<span class="token punctuation">.</span>themeListener <span class="token operator">=</span> SystemThemeListener<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        <span class="token comment"># Create and add sub interfaces</span>
        <span class="token comment"># ...</span>

        <span class="token comment"># Start the listener</span>
        self<span class="token punctuation">.</span>themeListener<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Stop the listener thread</span>
        self<span class="token punctuation">.</span>themeListener<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>themeListener<span class="token punctuation">.</span>deleteLater<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>closeEvent<span class="token punctuation">(</span>e<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">_onThemeChangedFinished</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>_onThemeChangedFinished<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Retry mechanism needed when mica effect is enabled</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isMicaEffectEnabled<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            QTimer<span class="token punctuation">.</span>singleShot<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>windowEffect<span class="token punctuation">.</span>setMicaEffect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>winId<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isDarkTheme<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="customize-style" tabindex="-1"><a class="header-anchor" href="#customize-style" aria-hidden="true">#</a> Customize style</h2><p>If you are dissatisfied with the style of the built-in components and want to make minor adjustments to them, you can use <code>setCustomStyleSheet()</code> to add new styles based on the existing style. The function signature is as follows:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">setCustomStyleSheet</span><span class="token punctuation">(</span>widget<span class="token punctuation">:</span> QWidget<span class="token punctuation">,</span> lightQss<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> darkQss<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>where <code>widget</code> is the component that needs its style adjusted, <code>lightQss</code> and <code>darkQss</code> are the custom styles added for light/dark themes.</p><p>For example, let&#39;s adjust the border-radius of a <code>PushButton</code> to 10px:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>button <span class="token operator">=</span> PushButton<span class="token punctuation">(</span><span class="token string">&#39;Button&#39;</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>

<span class="token comment"># add custom qss</span>
qss <span class="token operator">=</span> <span class="token string">&#39;PushButton{border-radius: 10px}&#39;</span>
setCustomStyleSheet<span class="token punctuation">(</span>button<span class="token punctuation">,</span> qss<span class="token punctuation">,</span> qss<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In Qt Designer, you can achieve custom styling by adding dynamic properties. Here are the steps:</p><ol><li><p>Add a dynamic property of type &quot;String&quot;.</p><p><img src="`+n+'" alt="Add String Dynamic Property"></p></li><li><p>In the &quot;Create Dynamic Property&quot; dialog, set the property name as <code>lightCustomQss</code> for the light mode and <code>darkCustomQss</code> for the dark mode.</p><p><img src="'+s+'" alt="Set name"></p></li><li><p>Click the <code>...</code> button next to the property and edit <code>lightCustomQss</code> in the &quot;Edit Text&quot; dialog.</p><p><img src="'+a+`" alt="Set qss"></p></li></ol><h2 id="theme-color" tabindex="-1"><a class="header-anchor" href="#theme-color" aria-hidden="true">#</a> Theme color</h2><p><code>themeColor()</code> returns current theme color, and you can use <code>setThemeColor()</code> method to change the theme color of QFluentWidgets. This method accepts the following three types of parameters:</p><ul><li><code>QColor</code></li><li><code>Qt.GlobalColor</code></li><li><code>str</code>: Hex color strings or color names, such as <code>#0065d5</code> or <code>red</code>.</li></ul><p>When the theme color changes, the config instance managed by <code>qconfig</code> will emit the <code>themeColorChanged</code> signal.</p><h3 id="system-accent-color" tabindex="-1"><a class="header-anchor" href="#system-accent-color" aria-hidden="true">#</a> System accent color</h3><p><code>qframelesswindow</code> v0.4.3 and above versions provide an api to retrieve the Windows and macOS system accent colors, which can be used with <code>setThemeColor()</code>:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">from</span> qframelesswindow<span class="token punctuation">.</span>utils <span class="token keyword">import</span> getSystemAccentColor

<span class="token comment"># Can only retrieve the system accent color on Windows and macOS</span>
<span class="token keyword">if</span> sys<span class="token punctuation">.</span>platform <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&quot;win32&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;darwin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
   setThemeColor<span class="token punctuation">(</span>getSystemAccentColor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> save<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="font" tabindex="-1"><a class="header-anchor" href="#font" aria-hidden="true">#</a> Font</h2><p>qfluentwidgets v1.9.0 and above support calling <code>setFontFamilies()</code> to customize the font used by the component library. Use <code>fontFamilies()</code> to get the current font. The default font families are <code>[&#39;Segoe UI&#39;, &#39;Microsoft YaHei&#39;, &#39;PingFang SC&#39;]</code>.</p>`,32),l=[i];function u(d,r){return t(),o("div",null,l)}const h=e(c,[["render",u],["__file","index.html.vue"]]);export{h as default};
