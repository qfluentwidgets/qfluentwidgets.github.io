import{_ as o,r as p,o as l,c,b as n,d as s,a as e,e as t}from"./app-9cc97c28.js";const i={},u={id:"singledirectionscrollarea",tabindex:"-1"},r=n("a",{class:"header-anchor",href:"#singledirectionscrollarea","aria-hidden":"true"},"#",-1),d={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/widgets/scroll_area/index.html#qfluentwidgets.components.widgets.scroll_area.SingleDirectionScrollArea",target:"_blank",rel:"noopener noreferrer"},k=t(`<p><code>SingleDirectionScrollArea</code> 实现了单方向的平滑滚动，当竖直方向或者水平方向有太多数据需要展示时，可使用此组件。</p><p>竖直方向：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea <span class="token operator">=</span> SingleDirectionScrollArea<span class="token punctuation">(</span>orient<span class="token operator">=</span>Qt<span class="token punctuation">.</span>Vertical<span class="token punctuation">)</span>
scrollArea<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>

<span class="token comment"># 竖直方向有很多组件</span>
view <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span>view<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>QPushButton<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;按钮 </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

scrollArea<span class="token punctuation">.</span>setWidget<span class="token punctuation">(</span>view<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>水平方向：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea <span class="token operator">=</span> SingleDirectionScrollArea<span class="token punctuation">(</span>orient<span class="token operator">=</span>Qt<span class="token punctuation">.</span>Horizontal<span class="token punctuation">)</span>
scrollArea<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

<span class="token comment"># 水平方向有很多组件</span>
view <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
layout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span>view<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>QPushButton<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;按钮 </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

scrollArea<span class="token punctuation">.</span>setWidget<span class="token punctuation">(</span>view<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下滚动区域的背景和边框不透明，如需改为透明背景并移除边框：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">&quot;QScrollArea{background: transparent; border: none}&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 必须给内部的视图也加上透明背景样式</span>
view<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">&quot;QWidget{background: transparent}&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下述方法也能实现透明背景，注意此方法需要在 <code>scrollArea.setWidget(view)</code> 之后调用才会生效：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea<span class="token punctuation">.</span>enableTransparentBackground<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),m={id:"scrollarea",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#scrollarea","aria-hidden":"true"},"#",-1),h={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/widgets/scroll_area/index.html#qfluentwidgets.components.widgets.scroll_area.ScrollArea",target:"_blank",rel:"noopener noreferrer"},b=t(`<p><code>ScrollArea</code> 实现了水平和竖直方向的平滑滚动，使用方式和 <code>QScrollArea</code> 完全相同。</p><p>在某些情况下平滑滚动可能导致界面卡顿，取消平滑滚动的方法如下：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea<span class="token punctuation">.</span>setSmoothMode<span class="token punctuation">(</span>SmoothMode<span class="token punctuation">.</span>NO_SMOOTH<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),g={id:"smoothscrollarea",tabindex:"-1"},_=n("a",{class:"header-anchor",href:"#smoothscrollarea","aria-hidden":"true"},"#",-1),S={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/widgets/scroll_area/index.html#qfluentwidgets.components.widgets.scroll_area.SmoothScrollArea",target:"_blank",rel:"noopener noreferrer"},f=t(`<p><code>SmoothScrollArea</code> 使用 <code>QPropertyAnimation</code> 实现了水平和竖直方向的平滑滚动，使用方式和 <code>QScrollArea</code> 完全相同。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span>SmoothScrollArea<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 加载一张分辨率很高的图片</span>
        self<span class="token punctuation">.</span>label <span class="token operator">=</span> ImageLabel<span class="token punctuation">(</span><span class="token string">&quot;path/to/image.png&quot;</span><span class="token punctuation">)</span>

        <span class="token comment"># 自定义平滑滚动动画</span>
        self<span class="token punctuation">.</span>setScrollAnimation<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>Vertical<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> QEasingCurve<span class="token punctuation">.</span>OutQuint<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setScrollAnimation<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>Horizontal<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> QEasingCurve<span class="token punctuation">.</span>OutQuint<span class="token punctuation">)</span>

        <span class="token comment"># 滚动到指定区域</span>
        self<span class="token punctuation">.</span>horizontalScrollBar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setValue<span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">1200</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),y={id:"smoothscrolldelegate",tabindex:"-1"},w=n("a",{class:"header-anchor",href:"#smoothscrolldelegate","aria-hidden":"true"},"#",-1),A={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/components/index.html#qfluentwidgets.components.SmoothScrollDelegate.useAni",target:"_blank",rel:"noopener noreferrer"},x=t(`<p><code>SmoothScrollDelegate</code> 能够代理滚动组件的滚轮事件，实现平滑滚动功能，并自动替换滚动组件的水平滚动条和垂直滚动条为组件库的 <code>ScrollScroll</code>。比如 <code>ScrollArea</code> 的实现代码如下：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ScrollArea</span><span class="token punctuation">(</span>QScrollArea<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        <span class="token comment"># 滚动代理</span>
        self<span class="token punctuation">.</span>scrollDelagate <span class="token operator">=</span> SmoothScrollDelegate<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),q={id:"smoothscroll",tabindex:"-1"},Q=n("a",{class:"header-anchor",href:"#smoothscroll","aria-hidden":"true"},"#",-1),D={href:"https://pyqt-fluent-widgets.readthedocs.io/zh-cn/latest/autoapi/qfluentwidgets/common/smooth_scroll/index.html#qfluentwidgets.common.smooth_scroll.SmoothScroll",target:"_blank",rel:"noopener noreferrer"},z=t(`<p>组件库里的所有能够滚动的组件，比如滚动区域、树状组件、表格组件和文本编辑框，它们所使用的平滑滚动算法都由 <code>SmoothScroll</code> 类实现。由于平滑滚动会触发界面的频繁重绘，在高分屏下可能会导致滚动卡顿、迟滞，因此从 1.11.0 版本开始， <code>SmoothScroll</code> 内部有两套滚动算法：</p><ul><li>当滚动组件的宽度小于 <code>widthThreshold</code>（默认值是 2560px），采用固定帧率的平滑滚动算法</li><li>当滚动组件的宽度大于 <code>widthThreshold</code>，采用时间驱动的自适应平滑滚动算法来优化滚动性能</li></ul><p>如果你觉得滚动组件在小宽度下也会发生迟滞现象，可以调整 <code>widthThreshold</code> 来减缓此问题，以滚动区域为例：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 调整垂直滚动切换算法的宽度阈值为 1000px</span>
scrollArea<span class="token punctuation">.</span>scrollDelagate<span class="token punctuation">.</span>verticalSmoothScroll<span class="token punctuation">.</span>widthThreshold <span class="token operator">=</span> <span class="token number">1000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果觉得固定帧率平滑滚动算法的表现在任何分辨率下都能满足你的预期，可以直接关闭自适应算法：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>scrollArea<span class="token punctuation">.</span>scrollDelagate<span class="token punctuation">.</span>verticalSmoothScroll<span class="token punctuation">.</span>setDynamicEngineEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,6);function B(W,V){const a=p("ExternalLinkIcon");return l(),c("div",null,[n("h3",u,[r,s(),n("a",d,[s("SingleDirectionScrollArea"),e(a)])]),k,n("h3",m,[v,s(),n("a",h,[s("ScrollArea"),e(a)])]),b,n("h3",g,[_,s(),n("a",S,[s("SmoothScrollArea"),e(a)])]),f,n("h3",y,[w,s(),n("a",A,[s("SmoothScrollDelegate"),e(a)])]),x,n("h3",q,[Q,s(),n("a",D,[s("SmoothScroll"),e(a)])]),z])}const T=o(i,[["render",B],["__file","index.html.vue"]]);export{T as default};
